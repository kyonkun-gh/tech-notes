# 物件導向程式設計(Object-Oriented Programming)

## 資料、資訊、資料處理
| 名詞 | 定義 |
|------|------|
| 資料 | 未經處理的原始記錄 |
| 資訊 | 經過資料處理的結果 |
| 資料處理 | 將「資料」轉換為「資訊」的一連串處理過程 |


## 資料庫的好處
1.降低資料的**重複性** (Redundancy)

2.達成資料的**一致性** (Consistency)

3.達成資料的**共享性** (Data Sharing)

4.達成資料的**獨立性** (Data Independence)

5.達成資料的**完整性** (Integrity)

6.避免紙張與**空間浪費** (Reduce Paper)

7.達成資料的**安全性** (Security)


## 資料庫系統環境通常包含以下三大要素
- **資料（Data）** 系統所管理的資料本身。
- **硬體（Hardware）** 運行資料庫系統所需的物理設備，如伺服器、儲存裝置等。
- **程序（Procedure）** 操作資料庫系統的規則、流程與方法。


## ANSI/SPARC 資料庫三層架構（Three-Schema Architecture）
這是描述資料庫系統的層次結構與抽象層級：

| 層級 | 說明 | 使用對象 |
|------|------|----------|
| 外部層 (External Level) | 使用者觀點，不同使用者看到的資料不同 | 使用者 / 開發者 |
| 概念層 (Conceptual Level) | 全企業邏輯結構，所有資料的整體模型 | 系統設計者 |
| 內部層 (Internal Level) | 資料實際儲存方式，例如索引與壓縮方式 | DBA（資料庫管理員） |


## 資料庫三大模型 (Data Model)
| 項目 | 階層式<br>(Hierarchical) | 網路式<br>(Network) | 關聯式<br>(Relational) |
|------|--------------------------|---------------------|------------------------|
| **結構**             | 樹狀結構       | 圖狀結構         | 表格結構           |
| **彈性**             | 低             | 中               | 高                 |
| **關係型態**        | 一對多 (1:N)   | 多對多 (M:N)     | 任意（透過外鍵）   |
| **代表關係**        | 父子           | 擁有者-成員      | 主鍵-外鍵          |
| **查詢語言**        | 複雜、自定     | 複雜、自定       | 標準 SQL           |
| **是否支援多對多**  | ❌ (不支援)    | ✅ (原生支援)    | ✅（透過中介表）   |
| **開發維護難度**    | 高             | 更高             | 相對較低           |


## ER 模型屬性類型 (Attribute)
| 屬性類型 | 說明 | 範例 |
|----------|------|------|
| 簡單屬性 Atomic/Simple Attribute | 不可拆分                 | 姓名、郵遞區號         |
| 組合屬性 Composite Attribute     | 可再拆分成多個欄位       | 地址 → 縣市 + 街道     |
| 推論屬性 Derived Attribute       | 從其他欄位計算得出       | 年齡、工作年資         |
| 必要屬性 Required Attribute      | 不可為 NULL              | 姓名、學號             |
| 可選屬性 Optional Attribute      | 可為 NULL                | 傳真號碼、第二電話     |
| 單值屬性 Single-valued Attribute | 一筆資料對應一個值       | 性別、生日             |
| 多值屬性 Multi-valued Attribute  | 一筆資料可對應多個值     | 技能、電話號碼         |
| 儲存屬性 Stored Attribute        | 真正存入資料庫的值       | 出生日期、薪資         |
| 識別/鍵屬性 Key Attribute        | 可唯一識別一筆記錄       | 學號、員工編號         |


## ER 模型個體型態
- **強個體型態**：可獨立存在，有主鍵
- **弱個體型態**：需依賴其他實體才能存在


## 鍵（Key）的類型
| 鍵類型 | 英文名稱 | 說明 |
|--------|----------|------|
| 超鍵       | Super Key        | 包含一組欄位，可以唯一識別資料表中的每筆資料，但可能包含多餘欄位（非最小鍵）。  |
| 候選鍵     | Candidate Key    | 具備唯一性的欄位或欄位組合，具有成為主鍵的資格。主鍵是從候選鍵中挑選出來的。    |
| 主鍵       | Primary Key      | 唯一標識資料表中每一筆紀錄的欄位或欄位組合，不可為空值（NULL）。                |
| 交替鍵     | Alternate Key    | 候選鍵中未被選為主鍵的其他候選鍵。                                              |
| 組合鍵     | Composite Key    | 由多個欄位組成的鍵，用來唯一標識資料列。                                        |
| 外來鍵     | Foreign Key      | 在一個表中，用來參考另一表的主鍵，建立表間關聯並維護參考完整性。                |
| 次鍵       | Secondary Key    | 用於加速查詢的欄位索引，不一定唯一，不是用來唯一標識資料列。                    |
- **超鍵 > 候選鍵 = 主鍵+交替鍵**


## 關聯對照表
| 關聯類型 | 描述                      | 實作方式         |
| ---- | ----------------------- | ------------ |
| 1\:1  | A 對應 1 筆 B，B 也只對應 1 筆 A | 外鍵 + UNIQUE  |
| 1\:M | A 對應多筆 B，B 只能對應 1 筆 A   | B 表加外鍵       |
| M\:N | A 對應多筆 B，B 也對應多筆 A      | 使用中介表（2 個外鍵） |


## 資料庫的三種完整性規則
1. **實體完整性規則（Entity Integrity Rule）**  
    在單一資料表中，主鍵（Primary Key）必須具有唯一性，且不可為空值（NULL）。

2. **參考完整性規則（Referential Integrity Rule）**  
    在兩個資料表中，次要資料表的外鍵（Foreign Key, FK）欄位值，必須存在於主要資料表的主鍵（Primary Key, PK）欄位值中。

3. **值域完整性規則（Domain Integrity Rule）**  
    在單一資料表中，同一資料行的屬性值必須符合預先定義的資料型別或範圍。

