# 鎖定(Lock)

## 主要鎖定模式（Lock Modes）
| 鎖定類型 | 縮寫 | 說明 |
| -------- | ---- | ---- |
| 共用鎖               | S            | 用於讀取資料（如 SELECT），允許多個交易同時讀取，但不允許寫入。                        |
| 獨佔鎖               | X            | 用於寫入資料（如 INSERT、UPDATE、DELETE），只允許一個交易存取，其他交易無法讀寫。      |
| 更新鎖               | U            | 用於可能會更新資料的操作（例如讀完後再更新），避免死結，先取得更新鎖，再升級為獨佔鎖。 |
| 意圖共用鎖           | IS           | 表示某個子物件（如列）有共用鎖，用於支援表級鎖與列級鎖之間的協調。                     |
| 意圖獨佔鎖           | IX           | 表示某個子物件有獨佔鎖，例如列被 X 鎖時，表層會加 IX 鎖。                              |
| 意圖更新鎖           | IU           | 表示有子物件正嘗試取得 U 鎖。                                                          |
| 架構鎖（Schema Lock）| Sch-S / Sch-M| 當執行 SELECT（Sch-S）或 ALTER TABLE（Sch-M）等資料結構操作時使用。                    |
| Bulk Update 鎖       | BU           | 用於大量資料匯入操作（如 BULK INSERT），允許快速載入資料。                             |


## 鎖定層級（Lock Granularity）
| 層級 | 說明 |
| ---- | ---- |
| 資料列 (Row)      | 最細的鎖定單位，並發性高但開銷大。      |
| 資料頁 (Page)     | 一頁 8KB，通常包含多筆資料列。          |
| 資料表 (Table)    | 對整張表加鎖，效率高但會造成阻塞。      |
| 資料庫 (Database) | 很少用，除非執行大規模維護。            |

